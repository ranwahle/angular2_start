System.registerModule("../../../../../node_modules/weinre/web/client/FontView.js", [], function() {
  "use strict";
  var __moduleName = "../../../../../node_modules/weinre/web/client/FontView.js";
  WebInspector.FontView = function(resource) {
    WebInspector.ResourceView.call(this, resource);
    this.element.addStyleClass("font");
  };
  WebInspector.FontView.prototype = {
    hasContent: function() {
      return true;
    },
    _createContentIfNeeded: function() {
      if (this.fontPreviewElement)
        return;
      var uniqueFontName = "WebInspectorFontPreview" + this.resource.identifier;
      this.fontStyleElement = document.createElement("style");
      this.fontStyleElement.textContent = "@font-face { font-family: \"" + uniqueFontName + "\"; src: url(" + this.resource.url + "); }";
      document.head.appendChild(this.fontStyleElement);
      this.fontPreviewElement = document.createElement("div");
      this.element.appendChild(this.fontPreviewElement);
      this.fontPreviewElement.style.setProperty("font-family", uniqueFontName, null);
      this.fontPreviewElement.innerHTML = "ABCDEFGHIJKLM<br>NOPQRSTUVWXYZ<br>abcdefghijklm<br>nopqrstuvwxyz<br>1234567890";
      this._lineCount = this.fontPreviewElement.getElementsByTagName("br").length + 1;
      this.updateFontPreviewSize();
    },
    show: function(parentElement) {
      WebInspector.ResourceView.prototype.show.call(this, parentElement);
      this._createContentIfNeeded();
      this.updateFontPreviewSize();
    },
    resize: function() {
      this.updateFontPreviewSize();
      WebInspector.ResourceView.prototype.resize.call(this);
    },
    updateFontPreviewSize: function() {
      if (!this.fontPreviewElement || !this.visible)
        return;
      var measureFontSize = 50;
      this.fontPreviewElement.style.setProperty("font-size", measureFontSize + "px", null);
      this.fontPreviewElement.style.setProperty("position", "absolute", null);
      this.fontPreviewElement.style.removeProperty("height");
      var height = this.fontPreviewElement.offsetHeight;
      var width = this.fontPreviewElement.offsetWidth;
      var containerWidth = this.element.offsetWidth - 50;
      if (!height || !width || !containerWidth) {
        this.fontPreviewElement.style.removeProperty("font-size");
        this.fontPreviewElement.style.removeProperty("position");
        return;
      }
      var realLineHeight = Math.floor(height / this._lineCount);
      var fontSizeLineRatio = measureFontSize / realLineHeight;
      var widthRatio = containerWidth / width;
      var finalFontSize = Math.floor(realLineHeight * widthRatio * fontSizeLineRatio) - 2;
      this.fontPreviewElement.style.setProperty("font-size", finalFontSize + "px", null);
      this.fontPreviewElement.style.setProperty("height", this.fontPreviewElement.offsetHeight + "px", null);
      this.fontPreviewElement.style.removeProperty("position");
    }
  };
  WebInspector.FontView.prototype.__proto__ = WebInspector.ResourceView.prototype;
  return {};
});
System.get("../../../../../node_modules/weinre/web/client/FontView.js" + '');
