System.registerModule("../../../../../node_modules/weinre/web/client/AuditResultView.js", [], function() {
  "use strict";
  var __moduleName = "../../../../../node_modules/weinre/web/client/AuditResultView.js";
  WebInspector.AuditResultView = function(categoryResults) {
    WebInspector.View.call(this);
    this.element.className = "audit-result-view";
    function categorySorter(a, b) {
      return (a.title || "").localeCompare(b.title || "");
    }
    categoryResults.sort(categorySorter);
    for (var i = 0; i < categoryResults.length; ++i)
      this.element.appendChild(new WebInspector.AuditCategoryResultPane(categoryResults[i]).element);
  };
  WebInspector.AuditResultView.prototype.__proto__ = WebInspector.View.prototype;
  WebInspector.AuditCategoryResultPane = function(categoryResult) {
    WebInspector.SidebarPane.call(this, categoryResult.title);
    var treeOutlineElement = document.createElement("ol");
    this.bodyElement.addStyleClass("audit-result-tree");
    this.bodyElement.appendChild(treeOutlineElement);
    this._treeOutline = new TreeOutline(treeOutlineElement);
    this._treeOutline.expandTreeElementsWhenArrowing = true;
    function ruleSorter(a, b) {
      var result = WebInspector.AuditRule.SeverityOrder[a.severity || 0] - WebInspector.AuditRule.SeverityOrder[b.severity || 0];
      if (!result)
        result = (a.value || "").localeCompare(b.value || "");
      return result;
    }
    categoryResult.ruleResults.sort(ruleSorter);
    for (var i = 0; i < categoryResult.ruleResults.length; ++i) {
      var ruleResult = categoryResult.ruleResults[i];
      var treeElement = this._appendResult(this._treeOutline, ruleResult);
      treeElement.listItemElement.addStyleClass("audit-result");
      if (ruleResult.severity) {
        var severityElement = document.createElement("img");
        severityElement.className = "severity-" + ruleResult.severity;
        treeElement.listItemElement.appendChild(severityElement);
      }
    }
    this.expand();
  };
  WebInspector.AuditCategoryResultPane.prototype = {_appendResult: function(parentTreeElement, result) {
      var title = "";
      if (typeof result.value === "string") {
        title = result.value;
        if (result.violationCount)
          title = String.sprintf("%s (%d)", title, result.violationCount);
      }
      var treeElement = new TreeElement(null, null, !!result.children);
      treeElement.titleHTML = title;
      parentTreeElement.appendChild(treeElement);
      if (result.className)
        treeElement.listItemElement.addStyleClass(result.className);
      if (typeof result.value !== "string")
        treeElement.listItemElement.appendChild(WebInspector.applyFormatters(result.value));
      if (result.children) {
        for (var i = 0; i < result.children.length; ++i)
          this._appendResult(treeElement, result.children[i]);
      }
      if (result.expanded) {
        treeElement.listItemElement.removeStyleClass("parent");
        treeElement.listItemElement.addStyleClass("parent-expanded");
        treeElement.expand();
      }
      return treeElement;
    }};
  WebInspector.AuditCategoryResultPane.prototype.__proto__ = WebInspector.SidebarPane.prototype;
  return {};
});
System.get("../../../../../node_modules/weinre/web/client/AuditResultView.js" + '');
