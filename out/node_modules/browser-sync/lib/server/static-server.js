System.registerModule("../../../../../node_modules/browser-sync/lib/server/static-server.js", [], function() {
  "use strict";
  var __moduleName = "../../../../../node_modules/browser-sync/lib/server/static-server.js";
  var connect = require("connect");
  var utils = require("./utils.js");
  module.exports = function createServer(bs, scripts) {
    var options = bs.options;
    var server = options.get("server");
    var middleware = options.get("middleware");
    var basedir = server.get("baseDir");
    var serveStaticOptions = server.get("serveStaticOptions");
    var app = connect();
    app.use(utils.handleOldIE);
    app.use(options.getIn(["scriptPaths", "versioned"]), scripts).use(options.getIn(["scriptPaths", "path"]), scripts);
    if (server.get("directory")) {
      utils.addDirectory(app, basedir);
    }
    app.use(bs.snippetMw.middleware);
    utils.addMiddleware(app, middleware);
    utils.addBaseDir(app, basedir, serveStaticOptions);
    if (server.get("routes")) {
      utils.addRoutes(app, server.get("routes").toJS());
    }
    return utils.getServer(app, bs.options);
  };
  return {};
});
System.get("../../../../../node_modules/browser-sync/lib/server/static-server.js" + '');
